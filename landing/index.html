<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MFC: Presentation &amp; User Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
// This file is set as MATHJAX_CODEFILE in the Doxyfile. It configures how
// MathJax renders expressions in Markdown so that it is consistent with GitHub.
MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath:  [ ['$',  '$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true,
      ignoreClass: "line" // Ignore code blocks: https://web.archive.org/web/20120430100225/http://www.mathjax.org/docs/1.1/options/tex2jax.html
    },
    "HTML-CSS": {
      fonts: ["TeX"]
    }
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MFC
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">High-fidelity multiphase flow simulation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Presentation &amp; User Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li><a class="el" href="md_authors.html">Authors</a></li>
<li><a class="el" href="md_building.html">Building</a></li>
<li><a class="el" href="md_testing.html">Testing</a></li>
<li><a class="el" href="md_running.html">Running</a></li>
<li><a class="el" href="md_visualisation.html">Flow Visualisation</a></li>
<li><a class="el" href="md_references.html">References</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md12"></a>
Code Documentation</h1>
<ul>
<li><a href="../pre_process/">Pre Process</a></li>
<li><a href="../simulation/">Simulation</a></li>
<li><a href="../post_process/">Post Process</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md13"></a>
Publications</h1>
<h2><a class="anchor" id="autotoc_md14"></a>
Primary Paper</h2>
<p>The paper that describes the MFC's capabilities:</p><ul>
<li><a href="https://doi.org/10.1016/j.cpc.2020.107396">S. H. Bryngelson, K. Schmidmayer, V. Coralic, K. Maeda, J. Meng, T. Colonius (2021) Computer Physics Communications 4655, 107396 </a></li>
</ul>
<div class="fragment"><div class="line">@article{Bryngelson_2021,</div>
<div class="line">    title = {MFC: An open-source high-order multi-component, multi-phase, and multi-scale compressible flow solver},</div>
<div class="line">    author = {Spencer H. Bryngelson and Kevin Schmidmayer and Vedran Coralic and Jomela C. Meng and Kazuki Maeda and Tim Colonius},</div>
<div class="line">    journal = {Computer Physics Communications},</div>
<div class="line">    doi = {10.1016/j.cpc.2020.107396},</div>
<div class="line">    year = 2021,</div>
<div class="line">    month = {may},</div>
<div class="line">    publisher = {Elsevier {BV}},</div>
<div class="line">    pages = {107396},</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md15"></a>
Related publications</h2>
<p>Several publications have used the MFC in various stages of its development. A partial list is included here.</p>
<p>Journal papers:</p><ul>
<li><a href="https://arxiv.org/abs/2112.14172">S. H. Bryngelson, R. O. Fox, T. Colonius (2021) arXiv: 2112.14172. </a></li>
<li><a href="https://asa.scitation.org/doi/full/10.1121/10.0000746">S. H. Bryngelson and T. Colonius (2020) Journal of the Acoustical Society of America, Vol. 147, pp. 1126-1135 </a></li>
<li><a href="https://www.sciencedirect.com/science/article/pii/S0021999119307855">K. Schmidmayer, S. H. Bryngelson, T. Colonius (2020) Journal of Computational Physics, Vol. 402, 109080 </a></li>
<li><a href="http://colonius.caltech.edu/pdfs/BryngelsonSchmidmayerColonius2019.pdf">S. H. Bryngelson, K. Schmidmayer, T. Colonius (2019) International Journal of Multiphase Flow, Vol. 115, pp. 137-143  </a></li>
<li><a href="http://colonius.caltech.edu/pdfs/MaedaColonius2019.pdf">K. Maeda and T. Colonius (2019) Journal of Fluid Mechanics, Vol. 862, pp. 1105-1134 </a></li>
<li><a href="http://colonius.caltech.edu/pdfs/MaedaColonius2018c.pdf">K. Maeda and T. Colonius (2018) Journal of Computational Physics, Vol. 371, pp. 994-1017 </a></li>
<li><a href="http://colonius.caltech.edu/pdfs/MengColonius2018.pdf">J. C. Meng and T. Colonius (2018) Journal of Fluid Mechanics, Vol. 835, pp. 1108-1135 </a></li>
<li><a href="http://colonius.caltech.edu/pdfs/MaedaColonius2017.pdf">K. Maeda and T. Colonius (2017) Wave Motion, Vol. 75, pp. 36-49 </a></li>
<li><a href="http://colonius.caltech.edu/pdfs/MengColonius2015.pdf">J. C. Meng and T. Colonius (2015) Shock Waves, Vol. 25(4), pp. 399-414 </a></li>
<li><a href="http://colonius.caltech.edu/pdfs/CoralicColonius2014.pdf">V. Coralic and T. Colonius (2014) Journal of Computational Physics, Vol. 274, pp. 95-121 </a></li>
</ul>
<p>Ph.D. Disserations:</p><ul>
<li><a href="https://thesis.library.caltech.edu/11395/">J.-C. Veilleux (2019) Ph.D. thesis, California Institute of Technology </a></li>
<li><a href="https://thesis.library.caltech.edu/11007/">K. Maeda (2018) Ph.D. thesis, California Institute of Technology </a></li>
<li><a href="https://thesis.library.caltech.edu/9764/">J. Meng (2016) Ph.D. thesis, California Institute of Technology </a></li>
<li><a href="https://thesis.library.caltech.edu/8758/">V. Coralic (2014) Ph.D. thesis, California Institute of Technology </a></li>
</ul>
<h2><a class="anchor" id="autotoc_md16"></a>
User Configuration (&lt;tt&gt;defaults.yaml&lt;/tt&gt;)</h2>
<p>The <code>mfc.sh</code> script used in the previous section is configured through the file named <code>defaults.yaml</code>.</p>
<h1><a class="anchor" id="autotoc_md17"></a>
Development</h1>
<h2><a class="anchor" id="autotoc_md18"></a>
Fypp</h2>
<p>MFC uses <a href="https://github.com/aradi/fypp">Fypp</a>, a Python-based Fortran preprocessor to reduce code duplication. <code>.fpp</code> files are converted into regular <code>.f90</code> files as part of the build process. Documentation for Fypp can be found <a href="https://fypp.readthedocs.io/en/stable/">here</a>.</p>
<p>You can inspect the generated <code>.f90</code> files in <code>src/&lt;code name&gt;/autogen/</code>.</p>
<h1><a class="anchor" id="autotoc_md19"></a>
Useful Scripts</h1>
<h2><a class="anchor" id="autotoc_md20"></a>
Loading Modules</h2>
<p>On computer systems that run using environment modules, with implementations like <a href="https://github.com/TACC/Lmod">TACC's Lmod</a>, MFC provides a script that can load modules that have been used by contributors.</p>
<div class="fragment"><div class="line">$ . ./mfc.sh load</div>
</div><!-- fragment --><p>The list of modules offered by a system is subject to change. The aforementioned script serves as a convenient way to load modules that should work for most users of MFC.</p>
<h2><a class="anchor" id="autotoc_md21"></a>
OpenACC Memory Profiling</h2>
<p>You can append <code>-DMFC_MEMORY_DUMP</code> to <code>release-gpu</code>'s Fortran compiler options in <a href="defaults.yaml">defaults.yaml</a> to make the <a href="src/simulation_code/">simulation code</a> call <code>acc_present_dump()</code> at various stages of program execution to obtain a printout of on-device memory usage. The <a href="misc/mem_parse.sh">mem_parse.sh</a> script can be given as an argument the path to a file containing MFC's output, in order to aggregate the data and produce tables with formatted output.</p>
<h1><a class="anchor" id="autotoc_md22"></a>
License</h1>
<p>Copyright 2022. MFC is under the MIT license (see [LICENSE](LICENSE) file for full text).</p>
<h1><a class="anchor" id="autotoc_md23"></a>
Acknowledgements</h1>
<p>The development of the MFC was supported in part by multiple current and past grants from the US Office of Naval Research (ONR), the US National Institute of Health (NIH), and the US National Science Foundation (NSF). MFC computations utilize the Extreme Science and Engineering Discovery Environment (XSEDE), under allocations TG-CTS120005 (PI Colonius) and TG-PHY210084 (PI Bryngelson) and ORNL Summit under allocation CFD154 (PI Bryngelson). </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
